{"version":3,"file":"static/js/153.2ab2b4a1.chunk.js","mappings":"0NACA,EAAyB,6BAAzB,EAA6D,2BAA7D,EAA8F,0BAA9F,EAAoI,gCAApI,EAA2K,2BAA3K,EAA6M,2B,SCqF7M,EA9EqB,WACnB,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAEMC,GAAUC,EAAAA,EAAAA,MAAYD,QAEtBE,GAAWC,EAAAA,EAAAA,MAGXC,GAAsBC,EAAAA,EAAAA,QAAOH,EAASI,OAqB5C,OAlBAC,EAAAA,EAAAA,YAAU,WACRC,MAAM,sCAAD,OACmCR,EADnC,oBAdO,mCAcP,oBAGFS,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,IACbF,MAAK,SAAAX,GAGJ,GAFAC,EAASD,IAEa,IAAlBA,EAAMc,QACR,MAAM,IAAIC,MAAM,qBAEnB,IACAC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZhB,EAAS,KACV,GACJ,GAAE,CAACC,IAEAF,GAEA,iCACE,mBAAQoB,UAAWC,EAAnB,UACE,SAAC,KAAD,CAAMC,GAAIhB,EAAoBiB,QAASH,UAAWC,EAAlD,wBAIF,iBAAKD,UAAWC,EAAhB,WACE,gBACEG,IAAG,0CAAqCxB,EAAMyB,aAC9CC,IAAI,eACJN,UAAWC,KAEb,iBAAKD,UAAWC,EAAhB,WACE,wBAAKrB,EAAM2B,OAAS3B,EAAM4B,QAC1B,uCAAeC,KAAKC,MAAM9B,EAAM+B,YAAhC,SACA,sCACA,uBAAI/B,EAAMgC,YACV,oCACA,uBACGhC,EAAMiC,OAAOC,KAAI,SAAAC,GAAK,OACrB,iBAAMf,UAAWC,EAAjB,SACGc,EAAMP,MADuBO,EAAMC,GADjB,aAQ7B,mDACA,2BACE,yBACE,SAAC,KAAD,CAAMd,GAAG,OAAT,qBAEF,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,2BAGJ,SAAC,EAAAe,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,SAMM,OAAVtC,GACK,2FADT,CAED,C","sources":["webpack://react-homework-template/./src/components/MovieDetails.module.css?5587","components/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"MovieDetails_button__qJZC9\",\"link\":\"MovieDetails_link__qJeTJ\",\"img\":\"MovieDetails_img__4mwbN\",\"container\":\"MovieDetails_container__awhNg\",\"span\":\"MovieDetails_span__dFKNB\",\"info\":\"MovieDetails_info__LLlsN\"};","import { useState, useEffect } from 'react';\nimport { useRef } from 'react';\nimport { Suspense } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport css from './MovieDetails.module.css';\n\nconst API_KEY = '62c1f197bf5eba282c3324513a13b5fa';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState('');\n\n  const movieId = useParams().movieId;\n\n  const location = useLocation();\n  // console.log(location);\n\n  const backLinkLocationRef = useRef(location.state);\n\n\n  useEffect(() => {\n    fetch(\n      `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n    )\n      .then(response => response.json())\n      .then(movie => {\n        setMovie(movie);\n        // console.log(movie);\n        if (movie.success === false) {\n          throw new Error('API Error, no info');\n        }\n      })\n      .catch(error => {\n        console.log(error);\n        setMovie(null);\n      });\n  }, [movieId]);\n\n  if (movie) {\n    return (\n      <>\n        <button className={css.button}>\n          <Link to={backLinkLocationRef.current} className={css.link}>\n            Go back\n          </Link>\n        </button>\n        <div className={css.container}>\n          <img\n            src={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\n            alt=\"movie-poster\"\n            className={css.img}\n          />\n          <div className={css.info}>\n            <h1>{movie.title || movie.name}</h1>\n            <p>User score {Math.round(movie.popularity)} %</p>\n            <h2>Overview</h2>\n            <p>{movie.overview}</p>\n            <h3>Genres</h3>\n            <p>\n              {movie.genres.map(genre => (\n                <span className={css.span} key={genre.id}>\n                  {genre.name}\n                </span>\n              ))}\n            </p>\n          </div>\n        </div>\n        <p>Additional information</p>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </ul>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Outlet />\n        </Suspense>\n      </>\n    );\n  }\n\n  if (movie === null)\n    return <div>Unfortunately we haven`t found any info about this movie</div>;\n};\n\nexport default MovieDetails;\n"],"names":["useState","movie","setMovie","movieId","useParams","location","useLocation","backLinkLocationRef","useRef","state","useEffect","fetch","then","response","json","success","Error","catch","error","console","log","className","css","to","current","src","poster_path","alt","title","name","Math","round","popularity","overview","genres","map","genre","id","Suspense","fallback"],"sourceRoot":""}