{"version":3,"file":"static/js/411.7c624db9.chunk.js","mappings":"0NACA,EAAuB,yB,SCiBvB,EAdmB,SAAC,GAA0B,IAAxBA,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,SAC5B,OACE,wBACGD,EAAOE,KAAI,SAAAC,GAAK,OACf,yBACE,SAAC,KAAD,CAAMC,UAAWC,EAAUC,GAAE,kBAAaH,EAAMI,IAAMC,MAAOP,EAA7D,SACGE,EAAMM,OAASN,EAAMO,QAFjBP,EAAMI,GADA,KAStB,ECZKI,EAAU,mCA4ChB,EA1CqB,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UACtB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,SAgC/B,OAZAC,EAAAA,EAAAA,YAAU,WACHF,GACLG,MAAM,qDAAD,OACkDR,EADlD,iCACkFK,EADlF,gCAGFI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,IACbF,MAAK,SAAApB,GAEJY,EAAUZ,EAAOuB,QAClB,GACJ,GAAE,CAACP,EAAOJ,KAGT,kBAAMY,SA3BS,SAAAC,GACfA,EAAMC,iBAGNP,MAAM,qDAAD,OACkDR,EADlD,iCACkFK,EADlF,gCAGFI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,IACbF,MAAK,SAAApB,GACJ2B,QAAQC,IAAI5B,EAAOuB,SACnBX,EAAUZ,EAAOuB,QAClB,GACJ,EAeC,WACE,kBAAOM,KAAK,OAAQC,SAhCH,SAAAL,GACnBV,EAAgB,CAAEC,MAAOS,EAAMM,OAAOC,OACvC,EA8B+CA,MAAK,OAAEhB,QAAF,IAAEA,EAAAA,EAAS,MAC5D,mBAAQa,KAAK,SAAb,sBAGL,EC5BD,EAbe,WACb,OAA4BI,EAAAA,EAAAA,UAAS,MAArC,eAAOjC,EAAP,KAAeY,EAAf,KAEMX,GAAWiC,EAAAA,EAAAA,MAEjB,OACE,iCACE,SAAC,EAAD,CAActB,UAAWA,IACxBZ,IAAU,SAAC,EAAD,CAAYA,OAAQA,EAAQC,SAAUA,MAGtD,C","sources":["webpack://react-homework-template/./src/components/MoviesList.module.css?c9d5","components/MoviesList.jsx","components/MoviesSearch.jsx","components/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"link\":\"MoviesList_link__ZZAQa\"};","import { Link } from 'react-router-dom';\nimport css from './MoviesList.module.css';\nimport PropTypes from 'prop-types';\n\nconst MoviesList = ({ movies, location }) => {\n  return (\n    <ul>\n      {movies.map(movie => (\n        <li key={movie.id}>\n          <Link className={css.link} to={`/movies/${movie.id}`} state={location}>\n            {movie.title || movie.name}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n\nMoviesList.propTypes = {\n  movies: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n}","import { useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst API_KEY = '62c1f197bf5eba282c3324513a13b5fa';\n\nconst MoviesSearch = ({ setMovies }) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  const handleChange = event => {\n    setSearchParams({ query: event.target.value });\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n\n\n    fetch(\n      `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n    )\n      .then(response => response.json())\n      .then(movies => {\n        console.log(movies.results);\n        setMovies(movies.results);\n      });\n  };\n\n  useEffect(() => {\n    if (!query) return;\n    fetch(\n      `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n    )\n      .then(response => response.json())\n      .then(movies => {\n        // console.log(movies.results);\n        setMovies(movies.results);\n      });\n  }, [query, setMovies]);\n\n  return (\n    <form onSubmit={onSubmit}>\n      <input type=\"text\"  onChange={handleChange} value={query ?? ''} />\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\n\nexport default MoviesSearch;\n\nMoviesSearch.propTypes = {\n  setMovies: PropTypes.func.isRequired,\n}\n","import { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport MoviesList from './MoviesList';\nimport MoviesSearch from './MoviesSearch';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState(null);\n\n  const location = useLocation();\n\n  return (\n    <>\n      <MoviesSearch setMovies={setMovies} />\n      {movies && <MoviesList movies={movies} location={location} />}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["movies","location","map","movie","className","css","to","id","state","title","name","API_KEY","setMovies","useSearchParams","searchParams","setSearchParams","query","get","useEffect","fetch","then","response","json","results","onSubmit","event","preventDefault","console","log","type","onChange","target","value","useState","useLocation"],"sourceRoot":""}